<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fetch Bill - Pakistan Utility Portal</title>
  <style>
    body{font-family:'Segoe UI',sans-serif;background:#f4f7fa;color:#2c3e50;margin:0;padding:20px;line-height:1.6}
    .container{max-width:700px;margin:40px auto;text-align:center}
    .back{display:inline-block;margin:20px 0;color:#3498db;text-decoration:none;font-weight:bold}
    h1{font-size:2.2rem;margin-bottom:10px}
    .card{background:#fff;padding:30px;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,.08)}
    input,select{width:100%;padding:12px;margin:10px 0;border:1px solid #ddd;border-radius:8px;box-sizing:border-box}
    button{background:#3498db;color:#fff;padding:14px 30px;border:none;border-radius:8px;cursor:pointer;font-size:1.1rem}
    button:hover{background:#2980b9}
    .result{margin-top:40px;background:#fff;padding:25px;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,.08);display:none}
    .status{font-size:1.5rem;font-weight:bold;padding:12px;border-radius:8px;margin:15px 0}
    .paid{background:#d4edda;color:#155724}
    .unpaid{background:#f8d7da;color:#721c24}
    .download{background:#27ae60;color:#fff;padding:12px 25px;border:none;border-radius:8px;cursor:pointer}
    footer{margin-top:60px;color:#777;font-size:.9rem}
  </style>
</head>
<body>
<div class="container">
  <a href="index.html" class="back">Back to Home</a>
  <h1>Fetch Your Bill</h1>
  <p>Enter your consumer number to view your bill</p>

  <div class="card">
    <form id="form">
      <select id="utility" required>
        <option value="">Select Utility</option>
        <option value="electricity">Electricity</option>
        <option value="water">Water</option>
        <option value="gas">Gas</option>
      </select>
      <input type="text" id="ref" placeholder="Consumer Number (e.g. 0400010804246)" required>
      <button type="submit">Fetch Bill</button>
    </form>
  </div>

  <div id="result" class="result">
    <h2 id="type">Bill</h2>
    <p><strong>Consumer:</strong> <span id="consumer"></span></p>
    <p><strong>Provider:</strong> <span id="provider"></span></p>
    <p><strong>Area:</strong> <span id="area"></span></p>
    <p id="units-line" style="display:none"><strong>Units:</strong> <span id="units"></span></p>
    <p><strong>Amount:</strong> Rs. <span id="amount"></span></p>
    <p><strong>Due Date:</strong> <span id="due"></span></p>
    <div id="status" class="status"></div>
    <button onclick="window.print()" class="download">Download as PDF</button>
  </div>

  <footer>Pakistan Utility Portal Â© 2025</footer>
</div>

<script>
const bills = {
  "0400010804246": {type:"Electricity", provider:"K-Electric", area:"Karachi South", units:176, amount:12026, due:"2025-11-13", paid:false},
  "W12345": {type:"Water", provider:"KWSB", area:"Karachi South", amount:2500, due:"2025-11-20", paid:true},
  "G12345": {type:"Gas", provider:"SSGC", area:"Karachi", amount:4800, due:"2025-11-18", paid:false}
};

document.getElementById("form").onsubmit = function(e) {
  e.preventDefault();
  const utility = document.getElementById("utility").value;
  const ref = document.getElementById("ref").value.trim();
  const bill = bills[ref];

  if (!bill || bill.type.toLowerCase() !== utility) {
    alert("No bill found for this number/utility. Try 0400010804246 for Electricity.");
    return;
  }

  document.getElementById("type").textContent = bill.type + " Bill";
  document.getElementById("consumer").textContent = ref;
  document.getElementById("provider").textContent = bill.provider;
  document.getElementById("area").textContent = bill.area;
  document.getElementById("amount").textContent = bill.amount.toLocaleString();
  document.getElementById("due").textContent = bill.due;

  if (bill.units) {
    document.getElementById("units").textContent = bill.units;
    document.getElementById("units-line").style.display = "block";
  } else {
    document.getElementById("units-line").style.display = "none";
  }

  const status = document.getElementById("status");
  status.textContent = bill.paid ? "PAID" : "UNPAID";
  status.className = "status " + (bill.paid ? "paid" : "unpaid");

  document.getElementById("result").style.display = "block";
};
</script>
</body>
</html>
